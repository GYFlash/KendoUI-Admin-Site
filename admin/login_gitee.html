<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <meta name="renderer" content="webkit">
        <meta name="force-rendering" content="webkit">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="keywords" content="IKKI, IKKI2000, IKKI Studio, IKKI-Studio, ikki, ikki2000, ikkistudio, Kendo, Kendo UI, KendoUI, Kendo-UI, kendo, kendoui, kendo-ui, admin, admin-ui, admin-dashboard, dashboard, dashboard-templates, template, framework, site, website, bootstrap, bootstrap4, responsive, responsive-design, responsive-web-design, responsive-layout, layout">
        <meta name="description" content="Kendo UI Admin & Site base on Kendo UI for jQuery and Bootstrap 4.">
        <meta name="author" content="IKKI &amp; Amikoko">
        <meta name="copyright" content="UED Center">
        <title>Kendo UI Admin by IKKI &amp; Amikoko</title>
        <base href="https://ikki2000.gitee.io/kendoui-admin-site/" type="admin">
        <link href="img/favicon.png" rel="icon" type="image/png">
        <link href="css/fontawesome-all.min.css" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link id="Amikoko" href="css/themes/theme_default.min.css" rel="stylesheet">
        <link href="css/amikoko.admin.css" rel="stylesheet">
        <script src="js/jquery.min.js"></script>
        <script src="js/kendo.all.min.js"></script>
        <script id="IKKI" src="js/global/kendo.zh-CHS.js"></script>
        <script src="js/ikki.js"></script>
    </head>
    <body id="login">
        <main>
            <img id="avatar" src="img/avatar.png" alt="">
            <h3>Kendo UI Admin<small>åå°ç®¡ç†ç³»ç»Ÿ</small></h3>
            <div id="toggle">
                <form class="position-absolute" id="signIn">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="userName" type="text" placeholder="ç”¨æˆ·åï¼šAdmin" required data-required-msg="è¯·è¾“å…¥ç”¨æˆ·åï¼" pattern="[A-Za-z0-9_\-\u4E00-\u9FA5]{2,20}" data-pattern-msg="è¯·è¾“å…¥2-20ä¸ªå¤§å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿æˆ–æ±‰å­—ï¼">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-key"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="password" type="password" placeholder="å¯†ç ï¼šIKKI2000" required data-required-msg="è¯·è¾“å…¥å¯†ç ï¼" pattern="[A-Za-z0-9]{6,20}" data-pattern-msg="è¯·è¾“å…¥6-20ä¸ªå¤§å°å†™å­—æ¯æˆ–æ•°å­—ï¼">
                        </div>
                    </div>
                    <div class="form-group">
                        <div id="verify"></div>
                    </div>
                    <div class="form-group">
                        <div class="custom-control custom-checkbox custom-control-inline">
                            <input class="custom-control-input" id="remember" type="checkbox">
                            <label class="custom-control-label" for="remember">è®°ä½å¯†ç </label>
                        </div>
                        <a class="float-right text-light" id="forgetPass" href="javascript:;">å¿˜è®°å¯†ç </a>
                    </div>
                    <div class="form-row">
                        <div class="col-6">
                            <button class="btn btn-primary btn-lg btn-block" type="button" disabled>ç™»&emsp;å½•</button>
                        </div>
                        <div class="col-6">
                            <button class="btn btn-secondary btn-lg btn-block toggle" type="button"><small>æ³¨å†Œ</small></button>
                        </div>
                    </div>
                    <p class="mt-3">---------------=== ç¬¬ä¸‰æ–¹ç™»å½• ===---------------</p>
                    <div class="form-row">
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-qq"></i></a>
                        </div>
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-weixin"></i></a>
                        </div>
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-alipay"></i></a>
                        </div>
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-weibo"></i></a>
                        </div>
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-facebook"></i></a>
                        </div>
                        <div class="col-2">
                            <a class="text-light" href="javascript:;"><i class="fab fa-2x fa-twitter"></i></a>
                        </div>
                    </div>
                </form>
                <form id="register">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="userName" type="text" placeholder="ç”¨æˆ·å" required data-required-msg="è¯·è¾“å…¥ç”¨æˆ·åï¼" pattern="[A-Za-z0-9_\-\u4E00-\u9FA5]{2,20}" data-pattern-msg="è¯·è¾“å…¥2-20ä¸ªå¤§å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿æˆ–æ±‰å­—ï¼">
                            <div class="spinner-border spinner-border-sm text-primary hide"></div>
                            <span class="k-invalid-msg" data-for="userName"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-key"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="password" type="password" placeholder="å¯†ç " required data-required-msg="è¯·è¾“å…¥å¯†ç ï¼" pattern="[A-Za-z0-9]{6,20}" data-pattern-msg="è¯·è¾“å…¥6-20ä¸ªå¤§å°å†™å­—æ¯æˆ–æ•°å­—ï¼">
                            <input class="form-control form-control-lg" name="confirmPassword" type="password" placeholder="ç¡®è®¤å¯†ç " required data-required-msg="è¯·è¾“å…¥ç¡®è®¤å¯†ç ï¼">
                            <div class="input-group-append">
                                <button class="btn input-group-text" id="showPass" type="button"><i class="fas fa-eye-slash"></i></button>
                            </div>
                            <span class="k-invalid-msg" data-for="password"></span>
                            <span class="k-invalid-msg" data-for="confirmPassword"></span>
                        </div>
                        <div id="passStrength"></div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="email" type="email" placeholder="ç”µå­é‚®ä»¶" required data-required-msg="è¯·è¾“å…¥ç”µå­é‚®ä»¶ï¼" pattern="^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$" data-pattern-msg="ç”µå­é‚®ä»¶æ ¼å¼ä¸æ­£ç¡®ï¼">
                            <div class="spinner-border spinner-border-sm text-primary hide"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-mobile-alt"></i></span>
                            </div>
                            <input class="form-control form-control-lg" name="mobile" type="tel" placeholder="æ‰‹æœº" required data-required-msg="è¯·è¾“å…¥æ‰‹æœºï¼" pattern="^1(3[0-9]|4[579]|5[0-35-9]|6[6]|7[0135-8]|8[0-9]|9[89])\d{8}$" data-pattern-msg="æ‰‹æœºæ ¼å¼ä¸æ­£ç¡®ï¼">
                            <input class="form-control form-control-lg" name="vCode" type="tel" placeholder="éªŒè¯ç " required data-required-msg="è¯·è¾“å…¥éªŒè¯ç ï¼" pattern="[0-9]{6}" data-pattern-msg="éªŒè¯ç æ ¼å¼ä¸æ­£ç¡®ï¼">
                            <div class="input-group-append">
                                <button class="btn input-group-text" id="getCode" type="button" disabled>è·å–éªŒè¯ç </button>
                            </div>
                            <div class="spinner-border spinner-border-sm text-primary hide"></div>
                            <span class="k-invalid-msg" data-for="mobile"></span>
                            <span class="k-invalid-msg" data-for="vCode"></span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-6">
                            <button class="btn btn-primary btn-lg btn-block" type="button" disabled>æ³¨&emsp;å†Œ</button>
                        </div>
                        <div class="col-6">
                            <button class="btn btn-secondary btn-lg btn-block toggle" type="button"><small>è¿”å›ç™»å½•</small></button>
                        </div>
                    </div>
                </form>
            </div>
        </main>
        <footer>Powered by IKKI &amp; Amikoko &copy; 2018-2019 UED Center</footer>
        <div class="k-loading-image" id="loading"></div>
        <script src="js/L2Dwidget.min.js"></script>
        <script src="js/jquery.particleground.js"></script>
        <script src="js/jquery.verify.js"></script>
        <script>
            $(function () {
                // çœ‹æ¿å¨˜
                L2Dwidget.init({
                    dialog: {
                        enable: true, // å¼€å¯å¯¹è¯æ¡†
                        script: {
                            'every idle 10s': '$hitokoto$', // æ¯ç©ºé—² 10 ç§’é’Ÿæ˜¾ç¤ºä¸€å¥è¯
                            'tap face': 'å“¥~~ â¤ï¸', // å½“è§¦æ‘¸åˆ°è§’è‰²å¤´éƒ¨æ—¶
                            'tap body': 'å“å‘€ï¼åäºº~', // å½“è§¦æ‘¸åˆ°è§’è‰²èº«ä½“æ—¶
                            'hover #avatar': 'ğŸŒŒ æ¬¢è¿æ¥åˆ° Kendo UI Admin åå°ç®¡ç†ç³»ç»Ÿ =^^=', // å½“è§¦æ‘¸åˆ°å¤´åƒæ—¶
                            'hover #toggle': 'ğŸŒŒ æ¬¢è¿æ¥åˆ° Kendo UI Admin åå°ç®¡ç†ç³»ç»Ÿ =^^='
                        }
                    }
                });
                // åŠ¨æ€èƒŒæ™¯
                $('#login').particleground();
                // æç¤º
                noticeMsg('è¯·è¾“å…¥ä»»æ„ç”¨æˆ·åå’Œå¯†ç ç™»å½•', 'info', 'top', 5000);
                // ç™»å½•æ³¨å†Œåˆ‡æ¢
                $('#toggle').height(400);
                var effect = kendo.fx('#toggle').flipHorizontal($('#signIn'), $('#register')).duration(1000),
                    reverse = false;
                $('.toggle').click(function () {
                    effect.stop();
                    reverse ? effect.reverse() : effect.play();
                    reverse = !reverse;
                });
                // æ˜¯å¦å·²ç™»å½•
                if (sessionStorage.getItem('logged')) {
                    $('#avatar').attr({'src': sessionStorage.getItem('avatar'), 'alt': sessionStorage.getItem('userName')}).addClass('user-avatar').next().text(sessionStorage.getItem('userName'));
                    goLogin();
                }
                // è®°ä½å¯†ç 
                $('#signIn input[name="userName"]').val(localStorage.getItem('userName'));
                $('#signIn input[name="password"]').val(localStorage.getItem('password'));
                if (localStorage.getItem('remember')) {
                    $('#remember').prop('checked', true);
                } else {
                    $('#remember').prop('checked', false);
                }
                // ç™»å½•è¡¨å•éªŒè¯
                var validatorSignIn = $('#signIn').kendoValidator().data('kendoValidator');
                // ç™»å½•æ»‘å—éªŒè¯
                $('#verify').slideVerify({
                    success: function (obj) {
                        $('#signIn .btn-primary').prop('disabled', false).unbind('click').click(function () {
                            // ç™»å½•è¡¨å•éªŒè¯æˆåŠŸ
                            if (validatorSignIn.validate()) {
                                $('#loading').show();
                                $('#signIn .btn-primary').prop('disabled', true);
                                $.fn.ajaxPost({
                                    ajaxData: $('#signIn').serializeObject(),
                                    ajaxUrl: 'json/login.json',
                                    finished: function (res) {
                                        $('#loading').hide();
                                    },
                                    succeed: function (res) {
                                        // è®°ä½å¯†ç 
                                        if ($('#remember').prop('checked')) {
                                            localStorage.setItem('userName', $('#signIn input[name="userName"]').val());
                                            localStorage.setItem('password', $('#signIn input[name="password"]').val());
                                            localStorage.setItem('remember', true);
                                        } else {
                                            localStorage.removeItem('userName');
                                            localStorage.removeItem('password');
                                            localStorage.removeItem('remember');
                                        }
                                        // å­˜å‚¨ç™»å½•çŠ¶æ€
                                        sessionStorage.setItem('token', res.data.token);
                                        sessionStorage.setItem('userId', res.data.userId);
                                        sessionStorage.setItem('avatar', res.data.avatar);
                                        sessionStorage.setItem('userName', $('#signIn input[name="userName"]').val());
                                        sessionStorage.setItem('password', $('#signIn input[name="password"]').val());
                                        sessionStorage.setItem('logged', true);
                                        sessionStorage.removeItem('locked');
                                        // å¤´åƒåŠ¨ç”»åŠé¡µé¢è·³è½¬
                                        $('#avatar').attr({'src': res.data.avatar, 'alt': res.data.userName}).addClass('user-avatar').next().text(res.data.userName);
                                        goLogin();
                                    },
                                    failed: function (res) {
                                        obj.refresh();
                                    }
                                });
                            }
                        });
                    }
                });
                // æ³¨å†Œæç¤º
                $('#register input[name="userName"]').kendoTooltip({
                    showOn: 'click',
                    position: 'top',
                    content: 'ç”¨æˆ·åç”±2-20ä¸ªå¤§å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿æˆ–æ±‰å­—ç»„æˆï¼'
                });
                $('#register input[name="password"]').kendoTooltip({
                    showOn: 'click',
                    position: 'top',
                    content: 'å¯†ç ç”±6-20ä¸ªå¤§å°å†™å­—æ¯æˆ–æ•°å­—ç»„æˆï¼'
                });
                // æ˜¾ç¤ºå¯†ç 
                $('#showPass').unbind('click').click(function () {
                    if ($(this).find('.fa-eye-slash').length === 1) {
                        $('#register input[name="password"], #register input[name="confirmPassword"]').attr('type', 'text');
                        $('#showPass i').removeClass('fa-eye-slash').addClass('fa-eye');
                    } else {
                        $('#register input[name="password"], #register input[name="confirmPassword"]').attr('type', 'password');
                        $('#showPass i').removeClass('fa-eye').addClass('fa-eye-slash');
                    }
                });
                // å¯†ç å¼ºåº¦
                var passProgress = $('#passStrength').kendoProgressBar({
                    animation: {
                        duration: 200
                    },
                    min: 5,
                    max: 16,
                    change: function (e) {
                        if (e.value < 6) {
                            this.progressStatus.text('å¯†ç å¼ºåº¦');
                        } else if (e.value <= 7) {
                            this.progressStatus.text('å¼±');
                            this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-danger');
                        } else if (e.value <= 9) {
                            this.progressStatus.text('ä¸­');
                            this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-warning');
                        } else if (e.value <= 12) {
                            this.progressStatus.text('å¼º');
                            this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-success');
                        } else {
                            this.progressStatus.text('è¶…å¼º');
                            this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-info');
                        }
                    }
                }).data('kendoProgressBar');
                passProgress.progressStatus.text('å¯†ç å¼ºåº¦');
                $('#register input[name="password"]').keyup(function () {
                    passProgress.value(this.value.length);
                });
                // è·å–éªŒè¯ç 
                $('#getCode').unbind('click').click(function () {
                    var sec = 60,
                        intervalID = setInterval(function () {
                            if (sec > 1) {
                                sec = sec - 1;
                                $('#getCode').find('strong').text(sec);
                            } else {
                                clearInterval(intervalID);
                                $('#getCode').prop('disabled', false).text('é‡æ–°è·å–');
                            }
                        }, 1000);
                    $('#getCode').prop('disabled', true).html('ç­‰å¾…<strong class="text-primary mx-1">'+ sec +'</strong>ç§’');
                    $.fn.ajaxPost({
                        ajaxData: {
                            'mobile': $('#register input[name="mobile"]').val()
                        },
                        succeed: function (res) {
                            alertMsg('å·²å‘<strong class="text-primary mx-1">' + $('#register input[name="mobile"]').val() + '</strong>å‘é€éªŒè¯ç ~ è¯·æ³¨æ„æŸ¥æ”¶ï¼', 'success');
                        }
                    });
                });
                // æ³¨å†Œè¡¨å•éªŒè¯
                var validatorRegister = $('#register').kendoValidator({
                    rules: {
                        // ç”¨æˆ·å
                        userName: function (input) {
                            if (!input.is('#register input[name="userName"]')) {
                                return true;
                            }
                            input.nextAll('.spinner-border').show();
                            var unique = true;
                            $.fn.ajaxPost({
                                ajaxAsync: false,
                                ajaxData: {
                                    'userName': input.val()
                                },
                                finished: function () {
                                    input.nextAll('.spinner-border').hide();
                                },
                                succeed: function () {
                                    unique = true;
                                    input.removeClass('is-invalid').addClass('is-valid');
                                },
                                failed: function () {
                                    unique = false;
                                    input.removeClass('is-valid').addClass('is-invalid');
                                }
                            });
                            return unique;
                        },
                        // åŒ¹é…å¯†ç 
                        matchPassword: function (input) {
                            if (!input.is('#register input[name="confirmPassword"]')) {
                                return true;
                            }
                            if (input.val() === $('#register input[name="password"]').val()) {
                                $('#register input[name="password"]').removeClass('is-invalid').addClass('is-valid');
                                input.removeClass('is-invalid').addClass('is-valid');
                            } else {
                                $('#register input[name="password"]').removeClass('is-valid').addClass('is-invalid');
                                input.removeClass('is-valid').addClass('is-invalid');
                            }
                            return (input.val() === $('#register input[name="password"]').val());
                        },
                        // ç”µå­é‚®ä»¶
                        email: function (input) {
                            if (!input.is('#register input[name="email"]')) {
                                return true;
                            }
                            input.nextAll('.spinner-border').show();
                            var unique = true;
                            $.fn.ajaxPost({
                                ajaxAsync: false,
                                ajaxData: {
                                    'email': input.val()
                                },
                                finished: function () {
                                    input.nextAll('.spinner-border').hide();
                                },
                                succeed: function () {
                                    unique = true;
                                    input.removeClass('is-invalid').addClass('is-valid');
                                },
                                failed: function () {
                                    unique = false;
                                    input.removeClass('is-valid').addClass('is-invalid');
                                }
                            });
                            return unique;
                        },
                        // æ‰‹æœº
                        mobile: function (input) {
                            if (!input.is('#register input[name="mobile"]')) {
                                return true;
                            }
                            input.nextAll('.spinner-border').show();
                            var unique = true;
                            $.fn.ajaxPost({
                                ajaxAsync: false,
                                ajaxData: {
                                    'mobile': input.val()
                                },
                                finished: function () {
                                    input.nextAll('.spinner-border').hide();
                                },
                                succeed: function () {
                                    unique = true;
                                    input.removeClass('is-invalid').addClass('is-valid');
                                    $('#getCode').prop('disabled', false);
                                },
                                failed: function () {
                                    unique = false;
                                    input.removeClass('is-valid').addClass('is-invalid');
                                }
                            });
                            return unique;
                        },
                        // éªŒè¯ç 
                        vCode: function (input) {
                            if (!input.is('#register input[name="vCode"]')) {
                                return true;
                            }
                            input.nextAll('.spinner-border').show();
                            var passed = true;
                            $.fn.ajaxPost({
                                ajaxAsync: false,
                                ajaxData: {
                                    'vCode': input.val()
                                },
                                finished: function () {
                                    input.nextAll('.spinner-border').hide();
                                },
                                succeed: function () {
                                    passed = true;
                                    input.removeClass('is-invalid').addClass('is-valid');
                                    $('#register .btn-primary').prop('disabled', false);
                                },
                                failed: function () {
                                    passed = false;
                                    input.removeClass('is-valid').addClass('is-invalid');
                                    $('#register .btn-primary').prop('disabled', true);
                                }
                            });
                            return passed;
                        }
                    },
                    messages: {
                        userName: "æ­¤ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼",
                        matchPassword: 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´ï¼',
                        email: "æ­¤é‚®ç®±å·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼",
                        mobile: "æ­¤æ‰‹æœºå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼",
                        vCode: "éªŒè¯ç ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°è¾“å…¥ï¼"
                    }
                }).data('kendoValidator');
                $('#register input').focus(function () {
                    $(this).removeClass('is-valid is-invalid');
                });
                // æ³¨å†Œæäº¤
                $('#register .btn-primary').unbind('click').click(function () {
                    if (validatorRegister.validate()) {
                        $('#loading').show();
                        $('#register .btn-primary').prop('disabled', true);
                        $.fn.ajaxPost({
                            ajaxData: $('#register').serializeObject(),
                            finished: function (res) {
                                $('#loading').hide();
                            },
                            succeed: function (res) {
                                $('#signIn input[name="userName"]').val($('#register input[name="userName"]').val());
                                $('#signIn input[name="password"]').val($('#register input[name="password"]').val());
                                setTimeout(function (){
                                    $('#register .btn-secondary').click();
                                }, 2000);
                            },
                            isMsg: true
                        });
                    }
                });
                // å¿˜è®°å¯†ç 
                var popWidth = '40%',
                    popHeight = '366px';
                if ($(window).width() <= 768) {
                    popWidth = '90%';
                    popHeight = '420px';
                } else if ($(window).width() > 768 && $(window).width() <= 991) {
                    popWidth = '70%';
                    popHeight = '420px';
                } else if ($(window).width() > 991 && $(window).width() <= 1200) {
                    popWidth = '70%';
                } else if ($(window).width() > 1200 && $(window).width() <= 1800) {
                    popWidth = '60%';
                }
                $('#forgetPass').click(function () {
                    var divWindow = $('<div class="window-box"></div>').kendoWindow({
                        animation: {open: {effects: 'zoom:in'}, close: {effects: 'zoom:out'}},
                        title: 'æ‰¾å›å¯†ç ',
                        width: popWidth,
                        height: popHeight,
                        modal: true,
                        pinned: true,
                        resizable: false,
                        open: function() {
                            switchGetType();
                            $('#getPass_1 input[name="getType"]').change(function () {
                                switchGetType();
                            });
                            var kendoStep = $('.k-step').kendoTabStrip({
                                animation: false,
                                show: function(e) {
                                    $(e.contentElement).find('.k-step-prev').unbind('click').click(function () {
                                        kendoStep.select($(e.item).index() - 1);
                                    });
                                    $(e.contentElement).find('.k-step-next').unbind('click').click(function () {
                                        if ($(e.contentElement).find('form').kendoValidator().data('kendoValidator').validate()) {
                                            $.fn.ajaxPost({
                                                ajaxData: $(e.contentElement).find('form').serializeObject(),
                                                ajaxUrl: $(e.contentElement).find('form').attr('action'),
                                                succeed: function() {
                                                    if ($(e.item).index() === 0) {
                                                        alertMsg('å·²å‘<strong class="text-primary mx-1">' + $('#getPass_1 input[name="' + $('#getPass_1 input[name=getType]:checked').val() + '"]').val() + '</strong>å‘é€éªŒè¯ç ~ è¯·æ³¨æ„æŸ¥æ”¶ï¼', 'success');
                                                        $('#getPass_2 input[name="email"]').val($('#getPass_1 input[name="email"]').val());
                                                        $('#getPass_2 input[name="mobile"]').val($('#getPass_1 input[name="mobile"]').val());
                                                    } else if ($(e.item).index() === 1) {
                                                        alertMsgNoBtn('éªŒè¯é€šè¿‡ï¼è¯·è®¾ç½®æ–°å¯†ç ~', 'success');
                                                        $('#getPass_3 input[name="email"]').val($('#getPass_1 input[name="email"]').val());
                                                        $('#getPass_3 input[name="mobile"]').val($('#getPass_1 input[name="mobile"]').val());
                                                    }
                                                    kendoStep.select($(e.item).index() + 1);
                                                }
                                            });
                                        }
                                    });
                                    $(e.contentElement).find('.k-step-fin').unbind('click').click(function () {
                                        var validatorGetPass = $(e.contentElement).find('form').kendoValidator({
                                            rules: {
                                                // åŒ¹é…å¯†ç 
                                                matchPassword: function (input) {
                                                    if (!input.is('#getPass_3 input[name="confirmPassword"]')) {
                                                        return true;
                                                    }
                                                    return (input.val() === $('#getPass_3 input[name="password"]').val());
                                                }
                                            },
                                            messages: {
                                                matchPassword: 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´ï¼'
                                            }
                                        }).data('kendoValidator');
                                        if (validatorGetPass.validate()) {
                                            $(e.contentElement).find('.k-step-fin').addClass('k-state-disabled').removeClass('k-state-selected').prop('disabled', true);
                                            $.fn.ajaxPost({
                                                ajaxData: $(e.contentElement).find('form').serializeObject(),
                                                ajaxUrl: $(e.contentElement).find('form').attr('action'),
                                                succeed: function() {
                                                    $('#signIn input[name="password"]').val($('#getPass_3 input[name="password"]').val());
                                                    $('.window-box').data('kendoWindow').close();
                                                },
                                                failed: function(){
                                                    $(e.contentElement).find('.k-step-fin').addClass('k-state-selected').removeClass('k-state-disabled').prop('disabled', false);
                                                },
                                                isMsg: true
                                            });
                                        }
                                    });
                                    // æ˜¾ç¤ºå¯†ç 
                                    $('#showGetPass').unbind('click').click(function () {
                                        if ($(this).find('.fa-eye-slash').length === 1) {
                                            $('#getPass_3 input[name="password"], #getPass_3 input[name="confirmPassword"]').attr('type', 'text');
                                            $('#showGetPass i').removeClass('fa-eye-slash').addClass('fa-eye');
                                        } else {
                                            $('#getPass_3 input[name="password"], #getPass_3 input[name="confirmPassword"]').attr('type', 'password');
                                            $('#showGetPass i').removeClass('fa-eye').addClass('fa-eye-slash');
                                        }
                                    });
                                    // å¯†ç å¼ºåº¦
                                    var getPassProgress = $('#getPassStrength').kendoProgressBar({
                                        animation: {
                                            duration: 200
                                        },
                                        min: 5,
                                        max: 16,
                                        change: function (e) {
                                            if (e.value < 6) {
                                                this.progressStatus.text('å¯†ç å¼ºåº¦');
                                            } else if (e.value <= 7) {
                                                this.progressStatus.text('å¼±');
                                                this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-danger');
                                            } else if (e.value <= 9) {
                                                this.progressStatus.text('ä¸­');
                                                this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-warning');
                                            } else if (e.value <= 12) {
                                                this.progressStatus.text('å¼º');
                                                this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-success');
                                            } else {
                                                this.progressStatus.text('è¶…å¼º');
                                                this.progressWrapper.removeClass('bg-danger bg-warning bg-success bg-info').addClass('bg-info');
                                            }
                                        }
                                    }).data('kendoProgressBar');
                                    getPassProgress.progressStatus.text('å¯†ç å¼ºåº¦');
                                    $('#getPass_3 input[name="password"]').keyup(function () {
                                        getPassProgress.value(this.value.length);
                                    });
                                }
                            }).data('kendoTabStrip');
                            kendoStep.disable(kendoStep.tabGroup.children()).select(0);
                        },
                        close: function () {
                            divWindow.destroy();
                        }
                    }).data('kendoWindow');
                    divWindow.content($('#getPass').html()).center().open();
                });
            });
            // å®Œæˆç™»å½•
            function goLogin() {
                $('#toggle').removeAttr('style');
                $('#signIn').removeClass('position-absolute');
                $('.form-group, p, .form-row').slideUp(800, function () {
                    location.href = $('base').attr('href') + $('base').attr('type') + '/index_gitee.html';
                });
            }
            // åˆ‡æ¢æ‰¾å›æ–¹å¼
            function switchGetType() {
                if ($('#getPass_1 input[name="getType"]:checked').val() === 'email') {
                    $('#getPass_1 input[name="mobile"]').prop('required', false);
                    $('#getPass_1 input[name="email"]').prop('required', true);
                    $('.getTypeMobile').hide();
                    $('.getTypeEmail').show();
                } else if ($('#getPass_1 input[name="getType"]:checked').val() === 'mobile') {
                    $('#getPass_1 input[name="email"]').prop('required', false);
                    $('#getPass_1 input[name="mobile"]').prop('required', true);
                    $('.getTypeEmail').hide();
                    $('.getTypeMobile').show();
                }
            }
        </script>
        <script id="getPass" type="text/x-kendo-template">
            <div class="k-step">
                <ul>
                    <li><em><strong>1</strong></em>æ‰¾å›æ–¹å¼</li>
                    <li><em><strong>2</strong></em>å®‰å…¨éªŒè¯</li>
                    <li><em><strong>3</strong></em>è®¾æ–°å¯†ç </li>
                </ul>
                <div>
                    <form class="p-0" id="getPass_1" action="json/response.json">
                        <div class="form-group row justify-content-lg-center">
                            <label class="col-form-label text-lg-right col-lg-2">æ‰¾å›æ–¹å¼ï¼š</label>
                            <div class="col-lg-6">
                                <div class="custom-control custom-radio custom-control-inline mt-1">
                                    <input class="custom-control-input" id="getTypeEmail" name="getType" type="radio" value="email">
                                    <label class="custom-control-label" for="getTypeEmail">ç”µå­é‚®ä»¶</label>
                                </div>
                                <div class="custom-control custom-radio custom-control-inline mt-1">
                                    <input class="custom-control-input" id="getTypeMobile" name="getType" type="radio" value="mobile" checked>
                                    <label class="custom-control-label" for="getTypeMobile">æ‰‹æœº</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-lg-center getTypeEmail">
                            <label class="col-form-label text-lg-right col-lg-2">ç”µå­é‚®ä»¶ï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                    </div>
                                    <input class="form-control" name="email" type="email" data-required-msg="è¯·è¾“å…¥ç”µå­é‚®ä»¶ï¼" data-email-msg="ç”µå­é‚®ä»¶æ ¼å¼ä¸æ­£ç¡®ï¼">
                                    <span class="k-invalid-msg" data-for="email"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-lg-center getTypeMobile">
                            <label class="col-form-label text-lg-right col-lg-2">æ‰‹æœºï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-mobile-alt"></i></span>
                                    </div>
                                    <input class="form-control" name="mobile" type="tel" data-required-msg="è¯·è¾“å…¥æ‰‹æœºï¼" pattern="^1(3[0-9]|4[579]|5[0-35-9]|6[6]|7[0135-8]|8[0-9]|9[89])\d{8}$" data-pattern-msg="æ‰‹æœºæ ¼å¼ä¸æ­£ç¡®ï¼">
                                    <span class="k-invalid-msg" data-for="mobile"></span>
                                </div>
                            </div>
                        </div>
                        <p class="k-step-btns">
                            <button class="k-button k-button-lg k-state-selected k-step-next d-none d-sm-inline-block" type="button">ä¸‹ä¸€æ­¥</button>
                            <button class="k-button k-state-selected k-step-next d-inline-block d-sm-none" type="button">ä¸‹ä¸€æ­¥</button>
                        </p>
                    </form>
                </div>
                <div>
                    <form class="p-0" id="getPass_2" action="json/response.json">
                        <div class="form-group row justify-content-lg-center getTypeEmail">
                            <label class="col-form-label text-lg-right col-lg-2">ç”µå­é‚®ä»¶ï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                    </div>
                                    <input class="form-control" name="email" type="email" readonly>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-lg-center getTypeMobile">
                            <label class="col-form-label text-lg-right col-lg-2">æ‰‹æœºï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-mobile-alt"></i></span>
                                    </div>
                                    <input class="form-control" name="mobile" type="tel" readonly>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-lg-center">
                            <label class="col-form-label text-lg-right col-lg-2">éªŒè¯ç ï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-shield-alt"></i></span>
                                    </div>
                                    <input class="form-control" name="vCode" type="tel" required data-required-msg="è¯·è¾“å…¥éªŒè¯ç ï¼" pattern="[0-9]{6}" data-pattern-msg="éªŒè¯ç æ ¼å¼ä¸æ­£ç¡®ï¼">
                                    <span class="k-invalid-msg" data-for="vCode"></span>
                                </div>
                            </div>
                        </div>
                        <p class="k-step-btns">
                            <button class="k-button k-button-lg k-step-prev d-none d-sm-inline-block" type="button">ä¸Šä¸€æ­¥</button>
                            <button class="k-button k-step-prev d-inline-block d-sm-none" type="button">ä¸Šä¸€æ­¥</button>
                            <button class="k-button k-button-lg k-state-selected k-step-next d-none d-sm-inline-block" type="button">ä¸‹ä¸€æ­¥</button>
                            <button class="k-button k-state-selected k-step-next d-inline-block d-sm-none" type="button">ä¸‹ä¸€æ­¥</button>
                        </p>
                    </form>
                </div>
                <div>
                    <form class="p-0" id="getPass_3" action="json/response.json">
                        <input name="email" type="hidden">
                        <input name="mobile" type="hidden">
                        <div class="form-group row justify-content-lg-center">
                            <label class="col-form-label text-lg-right col-lg-2">æ–°å¯†ç ï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-key"></i></span>
                                    </div>
                                    <input class="form-control" name="password" type="password" required data-required-msg="è¯·è¾“å…¥å¯†ç ï¼" pattern="[A-Za-z0-9]{6,20}" data-pattern-msg="è¯·è¾“å…¥6-20ä¸ªå¤§å°å†™å­—æ¯æˆ–æ•°å­—ï¼">
                                    <div class="input-group-append">
                                        <button class="btn input-group-text" id="showGetPass" type="button"><i class="fas fa-eye-slash"></i></button>
                                    </div>
                                    <span class="k-invalid-msg" data-for="password"></span>
                                </div>
                                <div id="getPassStrength"></div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-lg-center">
                            <label class="col-form-label text-lg-right col-lg-2">ç¡®è®¤å¯†ç ï¼š</label>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-key"></i></span>
                                    </div>
                                    <input class="form-control" name="confirmPassword" type="password" required data-required-msg="è¯·è¾“å…¥ç¡®è®¤å¯†ç ï¼">
                                    <span class="k-invalid-msg" data-for="confirmPassword"></span>
                                </div>
                            </div>
                        </div>
                        <p class="k-step-btns">
                            <button class="k-button k-button-lg k-step-prev d-none d-sm-inline-block" type="button">ä¸Šä¸€æ­¥</button>
                            <button class="k-button k-step-prev d-inline-block d-sm-none" type="button">ä¸Šä¸€æ­¥</button>
                            <button class="k-button k-button-lg k-state-selected k-step-fin d-none d-sm-inline-block" type="button">å®Œ&emsp;æˆ</button>
                            <button class="k-button k-state-selected k-step-fin d-inline-block d-sm-none" type="button">å®Œ&nbsp;æˆ</button>
                        </p>
                    </form>
                </div>
            </div>
        </script>
    </body>
</html>